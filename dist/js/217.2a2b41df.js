"use strict";(self["webpackChunkww_web"]=self["webpackChunkww_web"]||[]).push([[217],{5217:function(t,s,i){i.r(s),i.d(s,{default:function(){return D}});var e=i(3396),a=i(7139),r=i(9242);const c={class:"container"},o={"aria-label":"breadcrumb"},l={class:"breadcrumb"},d={class:"breadcrumb-item"},u={class:"breadcrumb-item active","aria-current":"page"},n={class:"row justify-content-center"},p={class:"col-8"},h=["src"],g={class:"col-4"},w={key:0,class:"h5"},m={key:1,class:"h6"},b={key:2,class:"h5"},_=(0,e._)("hr",null,null,-1),v=(0,e._)("label",{for:"",class:"form-label"},"數量",-1),k=(0,e._)("br",null,null,-1),y=["disabled"],f={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},q=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),z=[q];function L(t,s,i,q,L,C){const I=(0,e.up)("LoadingCp"),$=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(I,{active:t.isLoading},null,8,["active"]),(0,e._)("div",c,[(0,e._)("nav",o,[(0,e._)("ol",l,[(0,e._)("li",d,[(0,e.Wm)($,{to:"/user/cart"},{default:(0,e.w5)((()=>[(0,e.Uk)("購物車")])),_:1})]),(0,e._)("li",u,(0,a.zw)(L.product.title),1)])]),(0,e._)("div",n,[(0,e._)("article",p,[(0,e._)("h2",null,(0,a.zw)(L.product.title),1),(0,e._)("div",null,(0,a.zw)(L.product.content),1),(0,e._)("div",null,(0,a.zw)(L.product.description),1),(0,e._)("img",{src:L.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,h)]),(0,e._)("div",g,[L.product.price?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",w,(0,a.zw)(L.product.origin_price)+" 元",1)),L.product.price?((0,e.wg)(),(0,e.iD)("del",m,"原價 "+(0,a.zw)(L.product.origin_price)+" 元",1)):(0,e.kq)("",!0),L.product.price?((0,e.wg)(),(0,e.iD)("div",b,"現在只要 "+(0,a.zw)(L.product.price)+" 元",1)):(0,e.kq)("",!0),_,v,(0,e.wy)((0,e._)("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=t=>L.qtySelect=t),class:"mb-3 ms-2 form-control"},null,512),[[r.nr,L.qtySelect]]),(0,e.Uk)(),k,(0,e._)("button",{type:"button",class:"btn btn-outline-danger",disabled:this.status.loadingItem===L.product.id,onClick:s[1]||(s[1]=t=>C.addToCart(L.product.id))},[this.status.loadingItem===L.product.id?((0,e.wg)(),(0,e.iD)("div",f,z)):(0,e.kq)("",!0),(0,e.Uk)(" 加到購物車 ")],8,y)])])])],64)}i(7658);var C={data(){return{product:{},id:"",qtySelect:1,status:{loadingItem:""}}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/ww-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t){const s="https://vue3-course-api.hexschool.io/api/ww-api/cart";this.status.loadingItem=t;const i={product_id:t,qty:this.qtySelect};this.isLoading=!0,this.$http.post(s,{data:i}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/user/cart"),this.status.loadingItem=""}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},I=i(89);const $=(0,I.Z)(C,[["render",L]]);var D=$}}]);
//# sourceMappingURL=217.2a2b41df.js.map