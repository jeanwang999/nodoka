{"version":3,"file":"js/123.46afee80.js","mappings":"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","sources":["webpack://ww_web/./src/views/UserCart.vue","webpack://ww_web/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\n    <LoadingCp :active=\"isLoading\"></LoadingCp>\n    <div class=\"container\">\n      <div class=\"row mt-4\">\n        <!-- 產品列表 -->\n        <div class=\"col-md-8\">\n          <table class=\"table align-middle\">\n            <thead>\n            <tr>\n              <th>圖片</th>\n              <th>商品名稱</th>\n              <th>價格</th>\n              <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"item in products\" :key=\"item.id\">\n              <td style=\"width: 200px\">\n                <div style=\"height: 100px; background-size: cover; background-position: center\"\n                    :style=\"{backgroundImage: `url(${item.imageUrl})`}\"></div>\n              </td>\n              <td><a href=\"#\" class=\"text-dark\">{{ item.title }}</a></td>\n              <td>\n                <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\n                <del class=\"h6\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\n                <div class=\"h5\" v-if=\"item.price\">現在只要 {{ item.price }} 元</div>\n              </td>\n              <td>\n                <div class=\"btn-group btn-group-sm\">\n                  <button type=\"button\" class=\"btn btn-outline-secondary\"\n                          @click=\"getProduct(item.id)\">\n                    查看更多\n                  </button>\n                  <button type=\"button\" class=\"btn btn-outline-danger\"\n                  :disabled=\"this.status.loadingItem === item.id\"\n                        @click=\"addCart(item.id)\">\n                  <div v-if=\"this.status.loadingItem === item.id\"\n                      class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                  </div>\n                    加到購物車\n                  </button>\n                </div>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <!-- 購物車列表 -->\n        <div class=\"col-md-4\">\n        <div class=\"sticky-top\">\n          <table class=\"table align-middle\">\n            <thead>\n              <tr>\n                <th></th>\n                <th>品名</th>\n                <th style=\"width: 110px\">數量</th>\n                <th>單價</th>\n              </tr>\n            </thead>\n            <tbody>\n            <template v-if=\"cart.carts\">\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                <td>\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\n                          :disabled=\"status.loadingItem === item.id\"\n                          @click=\"removeCartItem(item.id)\">\n                    <i class=\"bi bi-x\"></i>\n                  </button>\n                </td>\n                <td>\n                  {{ item.product.title }}\n                  <div class=\"text-success\" v-if=\"item.coupon\">\n                    已套用優惠券\n                  </div>\n                </td>\n                <td>\n                  <div class=\"input-group input-group-sm\">\n                    <input type=\"number\" class=\"form-control\"\n                    :disabled=\"item.id === status.loadingItem\"\n                    @change=\"updateCart(item)\"\n                          v-model.number=\"item.qty\" min=\"1\">\n                    <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                  </div>\n                </td>\n                <td class=\"text-end\">\n                  <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\n                  {{ $filters.currency(item.final_total) }}\n                </td>\n              </tr>\n            </template>\n            </tbody>\n            <tfoot>\n            <tr>\n              <td colspan=\"3\" class=\"text-end\">總計</td>\n              <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n            </tr>\n            <tr v-if=\"cart.final_total !== cart.total\">\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\n            </tr>\n            </tfoot>\n          </table>\n          <div class=\"input-group mb-3 input-group-sm\">\n            <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n        </div>\n        </div>\n      </div>\n      <!-- form 表單 -->\n      <div class=\"my-5 row justify-content-center\">\n      <FormCp class=\"col-md-6\" v-slot=\"{ errors }\"\n            @submit=\"createOrder\">\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">Email</label>\n          <FieldCp id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['email'] }\"\n                  placeholder=\"請輸入 Email\" rules=\"email|required\"\n                  v-model=\"form.user.email\"></FieldCp>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\n          <FieldCp id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['姓名'] }\"\n                  placeholder=\"請輸入姓名\" rules=\"required\"\n                  v-model=\"form.user.name\"></FieldCp>\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\n          <FieldCp id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['電話'] }\"\n                  placeholder=\"請輸入電話\" rules=\"required\"\n                  v-model=\"form.user.tel\"></FieldCp>\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\n          <FieldCp id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['地址'] }\"\n                  placeholder=\"請輸入地址\" rules=\"required\"\n                  v-model=\"form.user.address\"></FieldCp>\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label\">留言</label>\n          <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\n                    v-model=\"form.message\"></textarea>\n        </div>\n        <div class=\"text-end\">\n          <button class=\"btn btn-danger\" @click=\"createOrder(0)\">送出訂單</button>\n        </div>\n      </FormCp>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      cart: {},\n      coupon_code: '',\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products;\n        console.log('products:', response);\n        this.isLoading = false;\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart })\n        .then((res) => {\n          this.status.loadingItem = ''; // ajax載入之後 再把id清空\n          console.log(res);\n          this.$httpMessageState(res, '加入購物車');\n          this.getCart();\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        console.log(response);\n        this.cart = response.data.data;\n        this.isLoading = false;\n      });\n    },\n    updateCart(item) {\n      // console.log(item);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.isLoading = true;\n      this.status.loadingItem = item.id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty,\n      };\n      this.$http.put(url, { data: cart }).then((res) => {\n        console.log(res);\n        this.status.loadingItem = '';\n        this.getCart();\n      });\n    },\n    removeCartItem(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http.delete(url).then((response) => {\n        this.$httpMessageState(response, '移除購物車品項');\n        this.status.loadingItem = '';\n        this.getCart();\n        this.isLoading = false;\n      });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.isLoading = true;\n      this.$http.post(url, { data: coupon })\n        .then((res) => {\n          console.log(res);\n          this.$httpMessageState(res, '加入優惠券');\n          this.getCart();\n        });\n    },\n    createOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.$http.post(url, { data: order })\n        .then((res) => {\n          console.log(res);\n          this.$httpMessageState(res, '新增訂單');\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=5ed25a71\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","href","role","_hoisted_15","_hoisted_22","colspan","for","_createVNode","_component_LoadingCp","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","$data","products","item","key","id","_hoisted_6","_normalizeStyle","backgroundImage","imageUrl","_hoisted_7","_toDisplayString","title","price","_hoisted_8","origin_price","_hoisted_9","_hoisted_10","_hoisted_11","type","onClick","$event","$options","getProduct","_hoisted_12","disabled","status","loadingItem","addCart","_hoisted_14","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","cart","carts","removeCartItem","product","coupon","_hoisted_24","_hoisted_25","onChange","updateCart","qty","min","_hoisted_27","unit","_hoisted_28","final_total","total","_hoisted_29","$filters","currency","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","coupon_code","placeholder","_hoisted_36","_cache","args","addCouponCode","_hoisted_37","_component_FormCp","onSubmit","createOrder","errors","_hoisted_38","_hoisted_39","_component_FieldCp","name","_normalizeClass","rules","form","user","email","_component_ErrorMessage","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","tel","_hoisted_44","_hoisted_45","address","_hoisted_46","_hoisted_47","cols","rows","message","_hoisted_48","data","methods","getProducts","url","this","$http","get","then","response","console","log","$router","push","product_id","post","res","$httpMessageState","getCart","put","delete","code","order","created","__exports__","render"],"sourceRoot":""}