"use strict";(self["webpackChunkww_web"]=self["webpackChunkww_web"]||[]).push([[866],{2866:function(t,s,i){i.r(s),i.d(s,{default:function(){return S}});var e=i(3396),a=i(7139),c=i(9242);const r=t=>((0,e.dD)("data-v-50d7c46d"),t=t(),(0,e.Cn)(),t),d={class:"container product-single-page"},o={"aria-label":"breadcrumb"},l={class:"breadcrumb"},u={class:"breadcrumb-item"},n={class:"breadcrumb-item active","aria-current":"page"},p={class:"row justify-content-center"},h={class:"col-8"},g=["src"],w={class:"col-4"},m={key:0,class:"h5"},_={key:1,class:"h6"},b={key:2,class:"h5"},v=r((()=>(0,e._)("hr",null,null,-1))),k=r((()=>(0,e._)("label",{for:"",class:"form-label"},"數量",-1))),y=r((()=>(0,e._)("br",null,null,-1))),f=["disabled"],q={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},z=r((()=>(0,e._)("span",{class:"visually-hidden"},"Loading...",-1))),C=[z];function I(t,s,i,r,z,I){const L=(0,e.up)("LoadingCp"),D=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(L,{active:t.isLoading},null,8,["active"]),(0,e._)("div",d,[(0,e._)("nav",o,[(0,e._)("ol",l,[(0,e._)("li",u,[(0,e.Wm)(D,{to:"/user/cart"},{default:(0,e.w5)((()=>[(0,e.Uk)("購物車")])),_:1})]),(0,e._)("li",n,(0,a.zw)(z.product.title),1)])]),(0,e._)("div",p,[(0,e._)("article",h,[(0,e._)("img",{src:z.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,g)]),(0,e._)("div",w,[(0,e._)("h2",null,(0,a.zw)(z.product.title),1),(0,e._)("div",null,(0,a.zw)(z.product.content),1),(0,e._)("div",null,(0,a.zw)(z.product.description),1),z.product.price?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",m,(0,a.zw)(z.product.origin_price)+" 元",1)),z.product.price?((0,e.wg)(),(0,e.iD)("del",_,"原價 "+(0,a.zw)(z.product.origin_price)+" 元",1)):(0,e.kq)("",!0),z.product.price?((0,e.wg)(),(0,e.iD)("div",b,"現在只要 "+(0,a.zw)(z.product.price)+" 元",1)):(0,e.kq)("",!0),v,k,(0,e.wy)((0,e._)("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=t=>z.qtySelect=t),class:"mb-3 ms-2 form-control"},null,512),[[c.nr,z.qtySelect]]),(0,e.Uk)(),y,(0,e._)("button",{type:"button",class:"btn btn-outline-danger",disabled:this.status.loadingItem===z.product.id,onClick:s[1]||(s[1]=t=>I.addToCart(z.product.id))},[this.status.loadingItem===z.product.id?((0,e.wg)(),(0,e.iD)("div",q,C)):(0,e.kq)("",!0),(0,e.Uk)(" 加到購物車 ")],8,f)])])])],64)}i(7658);var L={data(){return{product:{},id:"",qtySelect:1,status:{loadingItem:""}}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/ww-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t){const s="https://vue3-course-api.hexschool.io/api/ww-api/cart";this.status.loadingItem=t;const i={product_id:t,qty:this.qtySelect};this.isLoading=!0,this.$http.post(s,{data:i}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/user/cart"),this.status.loadingItem=""}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},D=i(89);const $=(0,D.Z)(L,[["render",I],["__scopeId","data-v-50d7c46d"]]);var S=$}}]);
//# sourceMappingURL=866.4d6d974c.js.map