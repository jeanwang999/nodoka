{"version":3,"file":"js/815.70dde408.js","mappings":"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","sources":["webpack://ww_web/./src/views/user/UserProducts.vue","webpack://ww_web/./src/views/user/UserProducts.vue?5129"],"sourcesContent":["<!-- eslint-disable max-len -->\n<template>\n    <LoadingCp :active=\"isLoading\"></LoadingCp>\n    <section class=\"blog py-5\">\n    <div class=\"container\">\n      <div class=\"row mt-4\">\n        <div class=\"col-md-2\">\n          <div class=\"mt-5 category-item\">\n            <a\n              href=\"#\"\n              class=\"list-group-item list-group-item-action\"\n              @click.prevent=\"categoryName = ''\"\n              :class=\"{ active: categoryName === '' }\"\n              >全部商品</a>\n            <a\n              v-for=\"(item, index) in filterCategory\"\n              :key=\"index\"\n              href=\"#\"\n              class=\"list-group-item list-group-item-action\"\n              @click.prevent=\"categoryName = item\"\n              :class=\"{ active: categoryName === item }\"  >\n              {{ item }}\n            </a>\n          </div>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3\">\n            <h4 class=\"text-uppercase\" v-if=\"categoryName === ''\">全部商品</h4>\n            <h4 class=\"text-uppercase\" v-else>{{ categoryName }}</h4>\n            <a href=\"index.html\" class=\"btn-link\">View All</a>\n          </div>\n      <div class=\"row\" >\n        <div class=\"col-md-4 \" v-for=\"item in filterProduct\" :key=\"item.id\" >\n          <div class=\"product-item image-zoom-effect link-effect\">\n              <div class=\"image-holder\">\n                <a  @click=\"getProduct(item.id)\" >\n                  <img :src=\"`${item.imageUrl}`\" alt=\"categories\" class=\"product-image img-fluid\">\n                </a>\n                <a href=\"\" class=\"btn-icon btn-wishlist\">\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                    <use xlink:href=\"#heart\"></use>\n                  </svg>\n                </a>\n                <div class=\"product-content\">\n                  <h5 class=\"text-uppercase fs-5 mt-3\">\n                    <a  @click=\"getProduct(item.id)\">{{item.title}}</a>\n                  </h5>\n                  <a  class=\"text-decoration-none\" data-after=\"加入購物車\" :disabled=\"this.status.loadingItem === product.id\"\n                  @click=\"addCart(item.id)\"><span>${{item.price}}</span></a>\n                </div>\n              </div>\n            </div>\n        </div>\n      </div>\n        </div>\n      </div>\n\n    </div>\n  </section>\n</template>\n\n<script>\n\nexport default {\n\n  props: ['category'],\n\n  data() {\n    return {\n      products: [],\n      product: {},\n      cart: {},\n      coupon_code: '',\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n      categoryName: '',\n      allProducts: [],\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products;\n        console.log('products:', response);\n        this.isLoading = false;\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n\n    // 取得全部商品 (分類用)\n    getAllProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.allProducts = response.data.products;\n        console.log('products:', response);\n        this.isLoading = false;\n        console.log('取得全部商品for分類');\n        console.log('✅ filterCategory:', this.filterCategory); // ←放這裡最保險\n      });\n    },\n    addCart(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart })\n        .then((res) => {\n          this.status.loadingItem = ''; // ajax載入之後 再把id清空\n          console.log(res);\n          this.$httpMessageState(res, '加入購物車');\n          this.getCart();\n          this.isLoading = false;\n          this.$emit('update-cart');\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(url).then((response) => {\n        console.log(response);\n        this.cart = response.data.data;\n      });\n    },\n    updateCart(item) {\n      // console.log(item);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.isLoading = true;\n      this.status.loadingItem = item.id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty,\n      };\n      this.$http.put(url, { data: cart }).then((res) => {\n        console.log(res);\n        this.status.loadingItem = '';\n        this.getCart();\n      });\n    },\n  },\n  computed: {\n    // 篩選出 分類\n    filterCategory() {\n      return this.allProducts\n        .map((item) => item.category)\n        .filter((item, index, array) => array.indexOf(item) === index);\n    },\n    // 以分類篩選商品\n    filterProduct() {\n      // 當為 空值 時，便回傳 全部商品 (有分頁)\n      if (this.categoryName === '') {\n        return this.products;\n      }\n      // 過濾 分類 相同的產品\n      return this.allProducts.filter(\n        (item) => item.category === this.categoryName,\n      );\n    },\n  },\n  created() {\n    this.categoryName = this.$route.query.category || ''; // 如果其他頁面有傳遞 分類 的參數，便使用其值\n    this.getProducts();\n    this.getAllProducts();\n    this.getCart();\n  },\n};\n</script>\n\n<style>\n.category-item a{\n  margin-bottom: 20px;\n}\n.category-item a:hover{\n  scale: 0.95;\n  transition: 0.5s;\n}\n.category-item a.active {\n  font-weight: bold;\n}\n\n</style>\n","import { render } from \"./UserProducts.vue?vue&type=template&id=14e2741e\"\nimport script from \"./UserProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserProducts.vue?vue&type=script&lang=js\"\n\nimport \"./UserProducts.vue?vue&type=style&index=0&id=14e2741e&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","href","width","height","viewBox","_createVNode","_component_LoadingCp","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_normalizeClass","$data","categoryName","onClick","_cache","_withModifiers","$event","_createElementBlock","_Fragment","_renderList","$options","filterCategory","item","index","key","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","_hoisted_11","_hoisted_12","filterProduct","id","_hoisted_13","_hoisted_14","getProduct","src","imageUrl","alt","_hoisted_17","_hoisted_18","_hoisted_19","title","_hoisted_20","disabled","status","loadingItem","product","addCart","price","props","data","products","cart","coupon_code","allProducts","methods","getProducts","url","this","$http","get","then","response","console","log","$router","push","getAllProducts","product_id","qty","post","res","$httpMessageState","getCart","$emit","updateCart","put","computed","map","category","filter","array","indexOf","created","$route","query","__exports__","render"],"sourceRoot":""}