{"version":3,"file":"js/561.f2c12989.js","mappings":"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","sources":["webpack://ww_web/./src/views/user/UserIndex.vue","webpack://ww_web/./src/views/user/UserIndex.vue?65f9"],"sourcesContent":["<!-- eslint-disable indent -->\n<!-- eslint-disable max-len -->\n<template>\n    <LoadingCp :active=\"isLoading\"></LoadingCp>\n\n  <section id=\"billboard\" class=\"bg-light py-5\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <h1 class=\"section-title text-center mt-4\" data-aos=\"fade-up\">New Collections</h1>\n        <div class=\"col-md-6 text-center\" data-aos=\"fade-up\" data-aos-delay=\"300\">\n          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe voluptas ut dolorum consequuntur, adipisci\n            repellat! Eveniet commodi voluptatem voluptate, eum minima, in suscipit explicabo voluptatibus harum,\n            quibusdam ex repellat eaque!</p>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"swiper main-swiper py-4\" data-aos=\"fade-up\" data-aos-delay=\"600\">\n          <div class=\"swiper-wrapper d-flex border-animation-left\">\n            <div class=\"swiper-slide cursor-pointer\" v-for=\"item in products\" :key=\"item.id\" @click=\"getProduct(item.id)\">\n              <div class=\"banner-item image-zoom-effect\" >\n                <div class=\"image-holder\">\n                  <img :src=\"`${item.imageUrl}`\" alt=\"product\" class=\"img-fluid\">\n                </div>\n                <div class=\"banner-content py-4\">\n                  <h5 class=\"element-title text-uppercase\">\n                    <div class=\"item-anchor\" >{{item.title}}</div>\n                  </h5>\n                  <p>{{item.description}}</p>\n                  <div class=\"btn-left\">\n                    <div class=\"btn-link fs-6 text-uppercase item-anchor text-decoration-none\" >Discover Now</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"swiper-pagination\"></div>\n        </div>\n        <div class=\"icon-arrow icon-arrow-left\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n            <use xlink:href=\"#arrow-left\"></use>\n          </svg></div>\n        <div class=\"icon-arrow icon-arrow-right\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n            <use xlink:href=\"#arrow-right\"></use>\n          </svg></div>\n      </div>\n    </div>\n  </section>\n\n  <section class=\"features py-5\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"0\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#calendar\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">Book An Appointment</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"300\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#shopping-bag\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">Pick up in store</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"600\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#gift\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">Special packaging</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"900\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#arrow-cycle\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">free global returns</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <section id=\"best-sellers\" class=\"best-sellers product-carousel py-5 position-relative overflow-hidden\">\n    <div class=\"container\">\n      <div class=\"d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3\">\n        <h4 class=\"text-uppercase\">Best Selling Items</h4>\n        <a href=\"index.html\" class=\"btn-link\">View All Products</a>\n      </div>\n      <div class=\"swiper product-swiper open-up\" data-aos=\"zoom-out\">\n        <div class=\"swiper-wrapper d-flex\">\n          <div class=\"swiper-slide\" v-for=\"item in products\" :key=\"item.id\">\n            <div class=\"product-item image-zoom-effect link-effect\">\n              <div class=\"image-holder\">\n                <a href=\"index.html\">\n                  <img :src=\"`${item.imageUrl}`\" alt=\"categories\" class=\"product-image img-fluid\">\n                </a>\n                <a href=\"index.html\" class=\"btn-icon btn-wishlist\">\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                    <use xlink:href=\"#heart\"></use>\n                  </svg>\n                </a>\n                <div class=\"product-content\">\n                  <h5 class=\"text-uppercase fs-5 mt-3\">\n                    <a href=\"index.html\">{{item.title}}</a>\n                  </h5>\n                  <a  class=\"text-decoration-none\" data-after=\"加入購物車\" :disabled=\"this.status.loadingItem === product.id\"\n                  @click=\"addCart(item.id)\"><span>${{item.price}}</span></a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"swiper-pagination\"></div>\n      </div>\n      <div class=\"icon-arrow icon-arrow-left\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n          <use xlink:href=\"#arrow-left\"></use>\n        </svg></div>\n      <div class=\"icon-arrow icon-arrow-right\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n          <use xlink:href=\"#arrow-right\"></use>\n        </svg></div>\n    </div>\n  </section>\n\n</template>\n\n<script>\nexport default {\n  name: 'UserIndex',\n  data() {\n    return {\n      products: [],\n      product: {},\n      cart: {},\n      coupon_code: '',\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n\n    };\n  },\n  mounted() {\n    console.log('✅ UserIndex.vue 已掛載，開始載入 JS...');\n    this.reloadAllScripts();\n  },\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      console.log('🔄 Vue Router 進入 UserIndex，重新載入 JS...');\n      setTimeout(() => {\n        vm.reloadAllScripts();\n      }, 300);\n    });\n  },\n\n  methods: {\n    reloadAllScripts() {\n      setTimeout(() => {\n        console.log('🔄 檢查 jQuery 是否存在...');\n        if (typeof window.jQuery === 'undefined') {\n          console.warn('⚠️ jQuery is missing, 重新載入 jQuery 和 Plugins...');\n          this.loadScripts([\n            `${process.env.BASE_URL}js/jquery.min.js`,\n            `${process.env.BASE_URL}js/plugins.js`,\n            `${process.env.BASE_URL}js/script.min.js`,\n          ]);\n        } else {\n          console.log('✅ jQuery 已載入，載入 Plugins 和 Script...');\n          this.loadScripts([\n            `${process.env.BASE_URL}js/plugins.js`,\n            `${process.env.BASE_URL}js/script.min.js`,\n          ]);\n        }\n      }, 300);\n    },\n    loadScripts(scripts) {\n      return scripts.reduce((promise, src) => promise.then(() => new Promise((resolve, reject) => {\n        console.log(`📥 載入 JS: ${src}`);\n        const script = document.createElement('script');\n        script.src = src;\n        script.async = false; // 確保按順序載入\n        script.onload = resolve;\n        script.onerror = reject;\n        document.body.appendChild(script);\n      })), Promise.resolve());\n    },\n\n    // 載入 產品\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products;\n        console.log('products:', response);\n        this.isLoading = false;\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    addCart(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart })\n        .then((res) => {\n          this.status.loadingItem = ''; // ajax載入之後 再把id清空\n          console.log(res);\n          this.$httpMessageState(res, '加入購物車');\n          this.getCart();\n          this.isLoading = false;\n          this.$emit('update-cart'); // 告訴父元件要更新\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(url).then((response) => {\n        console.log(response);\n        this.cart = response.data.data;\n      });\n    },\n\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n\n};\n</script>\n","import { render } from \"./UserIndex.vue?vue&type=template&id=23cadb4f\"\nimport script from \"./UserIndex.vue?vue&type=script&lang=js\"\nexport * from \"./UserIndex.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","href","width","height","viewBox","_createVNode","_component_LoadingCp","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","$data","products","item","key","onClick","$event","$options","getProduct","_hoisted_8","_hoisted_9","src","imageUrl","alt","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","title","description","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","disabled","status","loadingItem","product","addCart","price","_hoisted_33","_hoisted_34","name","data","cart","coupon_code","mounted","console","log","this","reloadAllScripts","beforeRouteEnter","to","from","next","vm","setTimeout","methods","window","jQuery","warn","loadScripts","scripts","reduce","promise","then","Promise","resolve","reject","script","document","createElement","async","onload","onerror","body","appendChild","getProducts","url","$http","get","response","$router","push","product_id","qty","post","res","$httpMessageState","getCart","$emit","created","__exports__","render"],"sourceRoot":""}