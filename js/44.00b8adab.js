"use strict";(self["webpackChunkNODOKA"]=self["webpackChunkNODOKA"]||[]).push([[44],{44:function(t,s,l){l.r(s),l.d(s,{default:function(){return P}});var i=l(3396),c=l(7139),a=l(9242);const e=t=>((0,i.dD)("data-v-b0fb9e74"),t=t(),(0,i.Cn)(),t),o={class:"container product-single-page"},r={"aria-label":"breadcrumb "},d={class:"breadcrumb"},n=e((()=>(0,i._)("li",{class:"breadcrumb-item"},"商品",-1))),u={class:"breadcrumb-item active","aria-current":"page"},p={class:"row justify-content-center"},g={class:"col-lg-6 col-sm-12"},h=["src"],_={class:"col-lg-4 col-sm-12"},m=e((()=>(0,i._)("br",null,null,-1))),b={key:0,class:"h5"},v=e((()=>(0,i._)("br",null,null,-1))),w={key:1,class:"h6"},y={key:2,class:"h5"},f=e((()=>(0,i._)("hr",null,null,-1))),k={class:"flex"},q=e((()=>(0,i._)("div",{class:"col-lg-2 mt-1"},[(0,i._)("label",{for:"",class:"form-label"},"數量")],-1))),D={class:"col-lg-4"},L=e((()=>(0,i._)("br",null,null,-1))),z={class:"text-end"},C=["disabled"],I={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},S=e((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),$=[S],x={class:"row justify-content-center my-3"},O={class:"col-lg-6 col-sm-12"},U=e((()=>(0,i._)("hr",null,null,-1))),T=e((()=>(0,i._)("div",{class:"col-4"},null,-1)));function j(t,s,l,e,S,j){const A=(0,i.up)("LoadingCp");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(A,{active:t.isLoading},null,8,["active"]),(0,i._)("div",o,[(0,i._)("nav",r,[(0,i._)("ol",d,[n,(0,i._)("li",u,(0,c.zw)(S.product.title),1)])]),(0,i._)("div",p,[(0,i._)("article",g,[(0,i._)("img",{src:S.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,h)]),(0,i._)("div",_,[(0,i._)("h5",null,(0,c.zw)(S.product.title),1),m,(0,i._)("p",null,(0,c.zw)(S.product.description),1),S.product.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",b,(0,c.zw)(S.product.origin_price)+" 元",1)),v,S.product.price?((0,i.wg)(),(0,i.iD)("del",w,(0,c.zw)(S.product.origin_price.toLocaleString())+" 元",1)):(0,i.kq)("",!0),S.product.price?((0,i.wg)(),(0,i.iD)("div",y,"TWD "+(0,c.zw)(S.product.price.toLocaleString())+" 元",1)):(0,i.kq)("",!0),f,(0,i._)("div",k,[q,(0,i._)("div",D,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=t=>S.qtySelect=t),class:"mb-3 ms-2 form-control"},null,512),[[a.nr,S.qtySelect]]),(0,i.Uk)(),L])]),(0,i._)("div",z,[(0,i._)("button",{type:"button",class:"btn btn-outline-danger",disabled:this.status.loadingItem===S.product.id,onClick:s[1]||(s[1]=t=>j.addToCart(S.product.id))},[this.status.loadingItem===S.product.id?((0,i.wg)(),(0,i.iD)("div",I,$)):(0,i.kq)("",!0),(0,i.Uk)(" 加到購物車 ")],8,C)])])]),(0,i._)("div",x,[(0,i._)("div",O,[U,(0,i._)("div",null,(0,c.zw)(S.product.content),1)]),T])])],64)}l(7658);var A={data(){return{product:{},id:"",qtySelect:1,status:{loadingItem:""}}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/ww-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t){const s="https://vue3-course-api.hexschool.io/api/ww-api/cart";this.status.loadingItem=t;const l={product_id:t,qty:this.qtySelect};this.isLoading=!0,this.$http.post(s,{data:l}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/cart"),this.status.loadingItem=""}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},K=l(89);const N=(0,K.Z)(A,[["render",j],["__scopeId","data-v-b0fb9e74"]]);var P=N}}]);
//# sourceMappingURL=44.00b8adab.js.map