{"version":3,"file":"js/356.0d416e91.js","mappings":"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","sources":["webpack://NODOKA/./src/views/user/UserIndex.vue","webpack://NODOKA/./src/views/user/UserIndex.vue?65f9"],"sourcesContent":["<!-- eslint-disable indent -->\n<!-- eslint-disable max-len -->\n<template>\n    <LoadingCp :active=\"isLoading\"></LoadingCp>\n\n  <section id=\"billboard\" class=\"bg-light py-5\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <h1 class=\"section-title text-center mt-4\" data-aos=\"fade-up\">New Collections</h1>\n        <div class=\"col-md-6 text-center\" data-aos=\"fade-up\" data-aos-delay=\"300\">\n          <p>「在珠寶的世界，就連 1mm 的差異也是無法退讓的堅持。」<br><br>Never Settle For Less <br>對 NODOKA 而言不僅是品牌哲學，<br>也是對設計和質感生活不退讓的堅持。 </p>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"swiper main-swiper py-4\" data-aos=\"fade-up\" data-aos-delay=\"600\">\n          <div class=\"swiper-wrapper d-flex border-animation-left\">\n            <!-- fffffff -->\n            <div class=\"swiper-slide cursor-pointer\" v-for=\"item in products\" :key=\"item.id\" @click=\"getProduct(item.id)\">\n              <div class=\"banner-item image-zoom-effect\" >\n                <div class=\"image-holder\">\n                  <img :src=\"`${item.imageUrl}`\" alt=\"product\" class=\"img-fluid\">\n                </div>\n                <div class=\"banner-content py-4\">\n                  <h5 class=\"element-title text-uppercase\">\n                    <div class=\"item-anchor\" >{{item.title}}</div>\n                  </h5>\n                  <p>{{item.description}}</p>\n                  <div class=\"btn-left\">\n                    <div class=\"btn-link fs-6 text-uppercase item-anchor text-decoration-none\" >Discover Now</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"swiper-pagination\"></div>\n        </div>\n        <div class=\"icon-arrow icon-arrow-left\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n            <use xlink:href=\"#arrow-left\"></use>\n          </svg></div>\n        <div class=\"icon-arrow icon-arrow-right\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n            <use xlink:href=\"#arrow-right\"></use>\n          </svg></div>\n      </div>\n    </div>\n  </section>\n\n  <section class=\"features py-5\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"0\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#calendar\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">Book An Appointment</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"300\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#shopping-bag\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">Pick up in store</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"600\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#gift\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">Special packaging</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n        <div class=\"col-md-3 text-center\" data-aos=\"fade-in\" data-aos-delay=\"900\">\n          <div class=\"py-5\">\n            <svg width=\"38\" height=\"38\" viewBox=\"0 0 24 24\">\n              <use xlink:href=\"#arrow-cycle\"></use>\n            </svg>\n            <h4 class=\"element-title text-capitalize my-3\">free global returns</h4>\n            <p>At imperdiet dui accumsan sit amet nulla risus est ultricies quis.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <section id=\"best-sellers\" class=\"best-sellers product-carousel py-5 position-relative overflow-hidden\">\n    <div class=\"container\">\n      <div class=\"d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3\">\n        <h4 class=\"text-uppercase\">Best Selling Items</h4>\n        <router-link class=\"btn-link\" to=\"/products\">View All Products</router-link>\n      </div>\n      <div class=\"swiper product-swiper open-up\" data-aos=\"zoom-out\">\n        <div class=\"swiper-wrapper d-flex\">\n          <!-- dddddd -->\n          <div class=\"swiper-slide\" v-for=\"item in products\" :key=\"item.id\" @click=\"getProduct(item.id)\">\n            <div class=\"product-item image-zoom-effect link-effect\">\n              <div class=\"image-holder\">\n                <a >\n                  <img :src=\"`${item.imageUrl}`\" alt=\"categories\" class=\"product-image img-fluid\">\n                </a>\n                <a  class=\"btn-icon btn-wishlist\">\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                    <use xlink:href=\"#heart\"></use>\n                  </svg>\n                </a>\n                <div class=\"product-content\">\n                  <h5 class=\"text-uppercase fs-5 mt-3\">\n                    <a >{{item.title}}</a>\n                  </h5>\n                  <a  class=\"text-decoration-none\" data-after=\"加入購物車\" :disabled=\"this.status.loadingItem === product.id\"\n                  @click=\"addCart(item.id)\"><span>${{item.price}}</span></a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"swiper-pagination\"></div>\n      </div>\n      <div class=\"icon-arrow icon-arrow-left\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n          <use xlink:href=\"#arrow-left\"></use>\n        </svg></div>\n      <div class=\"icon-arrow icon-arrow-right\"><svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\">\n          <use xlink:href=\"#arrow-right\"></use>\n        </svg></div>\n    </div>\n  </section>\n\n</template>\n\n<script>\nexport default {\n  name: 'UserIndex',\n  data() {\n    return {\n      products: [],\n      product: {},\n      cart: {},\n      coupon_code: '',\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n\n    };\n  },\n  mounted() {\n    console.log('✅ UserIndex.vue 已掛載，開始載入 JS...');\n    this.reloadAllScripts();\n  },\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      console.log('🔄 Vue Router 進入 UserIndex，重新載入 JS...');\n      setTimeout(() => {\n        vm.reloadAllScripts();\n      }, 300);\n    });\n  },\n\n  methods: {\n    reloadAllScripts() {\n      setTimeout(() => {\n        console.log('🔄 檢查 jQuery 是否存在...');\n        if (typeof window.jQuery === 'undefined') {\n          console.warn('⚠️ jQuery is missing, 重新載入 jQuery 和 Plugins...');\n          this.loadScripts([\n            `${process.env.BASE_URL}js/jquery.min.js`,\n            `${process.env.BASE_URL}js/plugins.js`,\n            `${process.env.BASE_URL}js/script.min.js`,\n          ]);\n        } else {\n          console.log('✅ jQuery 已載入，載入 Plugins 和 Script...');\n          this.loadScripts([\n            `${process.env.BASE_URL}js/plugins.js`,\n            `${process.env.BASE_URL}js/script.min.js`,\n          ]);\n        }\n      }, 300);\n    },\n    loadScripts(scripts) {\n      return scripts.reduce((promise, src) => promise.then(() => new Promise((resolve, reject) => {\n        console.log(`📥 載入 JS: ${src}`);\n        const script = document.createElement('script');\n        script.src = src;\n        script.async = false; // 確保按順序載入\n        script.onload = resolve;\n        script.onerror = reject;\n        document.body.appendChild(script);\n      })), Promise.resolve());\n    },\n\n    // 載入 產品\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products;\n        console.log('products:', response);\n        this.isLoading = false;\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    addCart(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart })\n        .then((res) => {\n          this.status.loadingItem = ''; // ajax載入之後 再把id清空\n          console.log(res);\n          this.$httpMessageState(res, '加入購物車');\n          this.getCart();\n          this.isLoading = false;\n          this.$emit('update-cart'); // 告訴父元件要更新\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(url).then((response) => {\n        console.log(response);\n        this.cart = response.data.data;\n      });\n    },\n\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n\n};\n</script>\n","import { render } from \"./UserIndex.vue?vue&type=template&id=56572e18\"\nimport script from \"./UserIndex.vue?vue&type=script&lang=js\"\nexport * from \"./UserIndex.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","width","height","viewBox","_createVNode","_component_LoadingCp","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","$data","products","item","key","onClick","$event","$options","getProduct","_hoisted_8","_hoisted_9","src","imageUrl","alt","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","title","description","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_component_router_link","to","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_31","disabled","status","loadingItem","product","addCart","price","_hoisted_33","_hoisted_34","name","data","cart","coupon_code","mounted","console","log","this","reloadAllScripts","beforeRouteEnter","from","next","vm","setTimeout","methods","window","jQuery","warn","loadScripts","scripts","reduce","promise","then","Promise","resolve","reject","script","document","createElement","async","onload","onerror","body","appendChild","getProducts","url","$http","get","response","$router","push","product_id","qty","post","res","$httpMessageState","getCart","$emit","created","__exports__","render"],"sourceRoot":""}