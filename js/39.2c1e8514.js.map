{"version":3,"file":"js/39.2c1e8514.js","mappings":"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","sources":["webpack://ww_web/./src/views/user/UserCart.vue","webpack://ww_web/./src/views/user/UserCart.vue?c316"],"sourcesContent":["<template>\n    <LoadingCp :active=\"isLoading\"></LoadingCp>\n    <div class=\"container \">\n      <div class=\"row my-5 justify-content-center\">\n        <!-- 購物車列表 -->\n        <div class=\"col-md-8\">\n        <div class=\"sticky-top\">\n          <b>>>請確認購物車</b>\n          <table class=\"table align-middle\">\n            <thead>\n              <tr>\n                <th></th>\n                <th>品名</th>\n                <th style=\"width: 110px\">數量</th>\n                <th>單價</th>\n                <th>刪除</th>\n              </tr>\n            </thead>\n            <tbody>\n            <template v-if=\"cart.carts\">\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                <td><img :src=\"`${item.product.imageUrl}`\" alt=\"\" style=\"height: 100px;\"></td>\n                <td>\n                  {{ item.product.title }}\n                  <div class=\"text-success\" v-if=\"item.coupon\">\n                    已套用優惠券\n                  </div>\n                </td>\n                <td>\n                  <div class=\"input-group input-group-sm\">\n                    <input type=\"number\" class=\"form-control\"\n                    :disabled=\"item.id === status.loadingItem\"\n                    @change=\"updateCart(item)\"\n                          v-model.number=\"item.qty\" min=\"1\">\n                    <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                  </div>\n                </td>\n                <td class=\"text-end\">\n                  <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\n                  {{ $filters.currency(item.final_total) }}\n                </td>\n                <td>\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\n                          :disabled=\"status.loadingItem === item.id\"\n                          @click=\"removeCartItem(item.id)\">\n                    <i class=\"bi bi-x\"></i>\n                  </button>\n                </td>\n              </tr>\n            </template>\n            </tbody>\n            <tfoot>\n            <tr>\n              <td colspan=\"3\" class=\"text-end\">總計</td>\n              <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n            </tr>\n            <tr v-if=\"cart.final_total !== cart.total\">\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\n            </tr>\n            </tfoot>\n          </table>\n          <div class=\"input-group mb-3 input-group-sm\">\n            <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n        </div>\n        </div>\n\n      </div>\n      <div class=\"row my-5 justify-content-center\">\n        <!-- form 表單 -->\n        <FormCp class=\"col-md-8 my-6\" v-slot=\"{ errors }\"\n              @submit=\"createOrder\">\n          <b>>> 請輸入收件資料</b>\n          <br><br>\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <FieldCp id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['email'] }\"\n                    placeholder=\"請輸入 Email\" rules=\"email|required\"\n                    v-model=\"form.user.email\"></FieldCp>\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\n            <FieldCp id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['姓名'] }\"\n                    placeholder=\"請輸入姓名\" rules=\"required\"\n                    v-model=\"form.user.name\"></FieldCp>\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">收件人電話</label>\n            <FieldCp id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['電話'] }\"\n                    placeholder=\"請輸入電話\" rules=\"required\"\n                    v-model=\"form.user.tel\"></FieldCp>\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">收件人地址</label>\n            <FieldCp id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['地址'] }\"\n                    placeholder=\"請輸入地址\" rules=\"required\"\n                    v-model=\"form.user.address\"></FieldCp>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">留言</label>\n            <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\n                      v-model=\"form.message\"></textarea>\n          </div>\n          <div class=\"text-center\">\n            <button class=\"btn btn-dark\" @click=\"createOrder(0)\">送出訂單</button>\n          </div>\n        </FormCp>\n\n      </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      cart: {},\n      coupon_code: '',\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      orderId: '',\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products;\n        console.log('products:', response);\n        this.isLoading = false;\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart })\n        .then((res) => {\n          this.status.loadingItem = ''; // ajax載入之後 再把id清空\n          console.log(res);\n          this.$httpMessageState(res, '加入購物車');\n          this.getCart();\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        console.log(response);\n        this.cart = response.data.data;\n        this.isLoading = false;\n        this.$emit('update-cart');\n      });\n    },\n    // 數量改變時 更新cart\n    updateCart(item) {\n      // console.log(item);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.isLoading = true;\n      this.status.loadingItem = item.id; // 當它等於id  btn addcart disable\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty,\n      };\n      this.$http.put(url, { data: cart }).then((res) => {\n        console.log(res);\n        this.status.loadingItem = '';\n        this.getCart();\n      });\n    },\n    removeCartItem(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http.delete(url).then((response) => {\n        this.$httpMessageState(response, '移除購物車品項');\n        this.status.loadingItem = '';\n        this.getCart();\n        this.isLoading = false;\n      });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.isLoading = true;\n      this.$http.post(url, { data: coupon })\n        .then((res) => {\n          console.log(res);\n          this.$httpMessageState(res, '加入優惠券');\n          this.getCart();\n        });\n    },\n    createOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.$http.post(url, { data: order })\n        .then((res) => {\n          console.log(res);\n          this.$httpMessageState(res, '新增訂單');\n          // eslint-disable-next-line prefer-destructuring\n          const orderId = res.data.orderId;\n          console.log(orderId);\n          // 假设这里是你返回的 orderId\n          const checkoutRoute = { name: 'checkout', params: { orderId } };\n          // 要使用指定路由名稱 (物件搭配 name 屬性 )進行頁面跳轉，在路由表也需要定義 name 屬性才可以正確配對。\n\n          this.$router.push(checkoutRoute);\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=15b4dd1c\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_16","colspan","for","_createVNode","_component_LoadingCp","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$data","cart","carts","_createElementBlock","_Fragment","key","_renderList","item","id","src","product","imageUrl","alt","title","coupon","_hoisted_9","_hoisted_10","type","disabled","status","loadingItem","onChange","$event","$options","updateCart","qty","min","_hoisted_12","_toDisplayString","unit","_hoisted_13","final_total","total","_hoisted_14","$filters","currency","onClick","removeCartItem","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","coupon_code","placeholder","_hoisted_24","_cache","args","addCouponCode","_hoisted_25","_component_FormCp","onSubmit","createOrder","errors","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_component_FieldCp","name","_normalizeClass","rules","form","user","email","_component_ErrorMessage","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","tel","_hoisted_35","_hoisted_36","address","_hoisted_37","_hoisted_38","cols","rows","message","_hoisted_39","data","products","orderId","methods","getProducts","url","this","$http","get","then","response","console","log","getProduct","$router","push","addCart","product_id","post","res","$httpMessageState","getCart","$emit","put","delete","code","order","checkoutRoute","params","created","__exports__","render"],"sourceRoot":""}